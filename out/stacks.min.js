!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Stacks=e():t.Stacks=e()}(self,(function(){return(()=>{"use strict";var t={764:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,{Block:()=>c,Image:()=>b,Stack:()=>x,StacksRenderer:()=>o,Text:()=>f});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.watching={},this.stateful=[],this.ids=[],this.elemcount=-1}var e,n,o;return e=t,o=[{key:"getInstance",value:function(){return t.inst||(t.inst=new t),t.inst}}],(n=[{key:"render",value:function(t){var e=t.get(!0);document.body.appendChild(e),window.onresize=function(){e.style.height=window.innerHeight.toString()+"px"}}},{key:"update",value:function(t){console.trace("<h2>UPDATE</h2>");var e=t.body().get().id,n=document.getElementById(e),r=n?n.parentElement:document.body;r.childNodes.forEach((function(e){e===n&&(console.log(r.childNodes[0]),console.log(t.body().get()),r.childNodes[0].replaceWith(t.body().get()))}))}},{key:"generateId",value:function(t){return(t||"sjsblock")+this.elemcount++}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}o.inst=null;var c=function(){function t(){var e,n,r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.body=null,this.isLink=!1,this.params={tag:"div",isLink:!1,text:!1,stack:!1,style:{},childStyle:{},events:{},id:"",stateful:!1,wasView:!1},this.updates=0,this.states=(e=function(t,e){console.log(t[e]+", "+e),r.updates>0&&o.getInstance().update(r),r.updates++},n={get:function(t,e,r){try{return new Proxy(t[e],n)}catch(n){return Reflect.get(t,e,r)}},defineProperty:function(t,n,r){var o=Reflect.defineProperty(t,n,r);return e(t,n),o},deleteProperty:function(t,n){return e(t,n),Reflect.deleteProperty(t,n)}},new Proxy({},n)),this.centered=document.createElement("div")}var e,n;return e=t,(n=[{key:"link",value:function(t){this.isLink=!0;var e=t;if(t.startsWith("page:")){var n=t.substring(5);e="../".concat(n,"/").concat(n,".html")}return this.params.href=e,this.params.tag="a",this}},{key:"border",value:function(t,e,n,r){return this.setChildStyle("border",t.toString()+"px "+(r?r+" ":"solid ")+(e||"black")),n&&this.setChildStyle("border-radius",n.toString()+"px"),this}},{key:"padding",value:function(t){return this.setChildStyle("padding",t.toString()+"px"),this}},{key:"setStyleAttribute",value:function(t,e){return this.params.style[t]=e,this}},{key:"setChildStyle",value:function(t,e){return this.params.childStyle[t]=e,this}},{key:"onclick",value:function(t){return this.params.events.click=t,this}},{key:"stateful",value:function(t){return this.params.stateful=t||!0,this.centered.id=this.constructor.name,o.getInstance().ids.push(this.constructor.name),o.getInstance().stateful.push(this),this}},{key:"init",value:function(){console.log("init block")}},{key:"getChild",value:function(){var t=this.body?this.body().get():this.object;for(var e in this.params.childStyle)t.style[e]=this.params.childStyle[e];return t}},{key:"get",value:function(t){var e;this.params.wasView=t||!1,console.log("STATES"),console.log(this.states),"div"!=this.params.tag&&(e=document.createElement(this.params.tag));var n=this.body?this.body().get():this.object;for(var r in this.params.childStyle)n.style[r]=this.params.childStyle[r];for(var i in"div"!=this.params.tag?e.appendChild(n):e=n,this.isLink&&e.setAttribute("href",this.params.href),this.params.style)e.style[i]=this.params.style[i];for(var c in this.params.events)e.addEventListener(c,this.params.events[c]);this.centered.style.display="flex",this.centered.style.justifyContent="center",this.centered.style.alignItems="center",t&&(this.centered.style.height=window.innerHeight+"px");var s=o.getInstance().generateId(this.constructor.name);return this.id=s,this.centered.appendChild(e),console.log("THIS STATFUCL"+this.params.stateful+" "+this.params.id),this.centered.id=this.id,this.centered.setAttribute("stateful",this.params.stateful+""),this.object=this.centered,this.centered}}])&&i(e.prototype,n),t}();function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=l(e);if(n){var o=l(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return u(this,t)});function o(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this)).style="p",n.text=t,n.params.text=!0,e&&(n.style=e);var i=document.createElement(e||"p");return i.innerText=t,n.object=i,n}return o}(c);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return h(this,t)});function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).path=t;var n=document.createElement("img");return n.setAttribute("src",t),e.object=n,e}return o}(c);function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var v=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"size",value:function(t,e){return t.toString()+(e||"px")}}],null&&m(e.prototype,null),n&&m(e,n),t}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}v.min="-10px",v.default="0px";var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(r);if(o){var n=O(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return j(this,t)});function c(t){var e;S(this,c),(e=i.call(this)).type="y",e._margin=v.default;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.blocks=r,e.params.stack=!1,e.type=t;var s=document.createElement("div");for(var a in"z"==e.type&&(e.blocks=r.reverse()),r){var u=r[a].get();u.style.margin=e._margin,s.appendChild(u)}return s.className=t+"stack",e.object=s,e}return e=c,(n=[{key:"margin",value:function(t){for(var e in this._margin=t,this.blocks)this.blocks[e].object.style.margin=this._margin;return this}}])&&w(e.prototype,n),c}(c)}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(764)})()}));